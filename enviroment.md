---
# Page settings
layout: default
keywords:
comments: false

# Hero section
title: Arduino IDEの導入
description: Arduinoを導入するための環境設定を行います。

# Author box
# author:
#     title: About Author
#     title_url: '#'
#     external_url: true
#     description: Author description

# Micro navigation
micro_nav: true

# Page navigation
page_nav:
    # prev:
    #     content: Previous page
    #     url: '#'
    next:
        content: 2. 構成要素
        url: /component
---

# 利用環境
- Windows 11  
- Atom Lite  
- Arduino 2.3.6  

---

# Arduino の導入

## Arduino IDE のインストール

1. <a href="https://www.arduino.cc/en/software/#ide" target="_blank" rel="noopener noreferrer">https://www.arduino.cc/en/software/#ide</a> にアクセスし、Arduino IDE をダウンロードします。自身のPC環境を確認し、適切なものを選択します。今回は例として、**Windows Win 10 and newer, 64 bits** を選択します。  
    ![101](../images/enviroment/101.png)

    **JUST DOWNLOAD** をクリックします。  
    ![102](../images/enviroment/102.png)  

    ![103](../images/enviroment/103.png)

2. ダウンロードしたファイル（*arduino-ide_2.3.6_Windows_64bit.exe*）をダブルクリックして実行します。  
    ![201](../images/enviroment/201.png)  

    ![202](../images/enviroment/202.png)  

    ![203](../images/enviroment/203.png)  

    ![204](../images/enviroment/204.png)  
    
    ![205](../images/enviroment/205.png)

---

### ボードのインストール

1. メニューから **ファイル > 基本設定** を開きます。  
    ![3](../images/enviroment/3.png)

    > 💡 **M5Stack ボード管理 URL**  
    > https://static-cdn.m5stack.com/resource/arduino/package_m5stack_index.json

    「追加のボードマネージャの URL」に上記を入力し、**OK** をクリックして保存します。  
    ![4](../images/enviroment/4.png)

2. サイドバーの **ボード管理** を開き、`M5Stack` を検索して **インストール** をクリックします。  
    ![5](../images/enviroment/5.png)

3. 使用するボードに応じて、**ツール > ボード > M5Stack** から該当する開発ボードを選択します。Atom Lite の場合は **M5Atom** を選択してください。  
    ![6](../images/enviroment/6.png)

---

### ライブラリのインストール

1. サイドバーの **ライブラリ管理** を開き、`M5Atom` を検索して **インストール** をクリックします。  
    ![7](../images/enviroment/7.png)

    **全てをインストール** をクリックします。  
    ![8](../images/enviroment/8.png)

---

## サンプルプログラムの動かし方

### ファームウェアを書き込む

1. Atom Lite を USB で PC に接続します。

    > ℹ️ **FTDI ドライバが必要な場合**  
    > 使用しているパソコンによっては、FTDIドライバのインストールが必要になる場合があります。  
    > ※通常のWindows11であれば、標準ドライバで動作するため下記手順は必要ありません。  
    > Atom Liteと接続出来ない場合などに試してみてください。  
    
    > <a href="https://ftdichip.com/drivers/vcp-drivers" target="_blank" rel="noopener noreferrer">https://ftdichip.com/drivers/vcp-drivers</a> より `CDM2123620_Setup.zip` をダウンロード・展開・インストールしてください。  
    > ![9](../images/enviroment/9.png)

2. Arduino IDE で **ファイル > 開く** をクリックし、プロジェクトファイル（`.ino`）を選択します。  

    ※サンプルプログラムは **<a href="https://github.com/LifeTechRobotics/secaro_arduino_projects.git" target="_blank" rel="noopener noreferrer">GitHub</a>** からダウンロード可能です。  
    ![10](../images/enviroment/10.png)  

    ![11](../images/enviroment/11.png)

3. ボードが自動で **M5Atom** として認識されない場合、**他のボードとポートを選択** をクリックして、  
    - ボード: **M5Atom**  
    - ポート: **COM? Serial Port (USB)**  
    を選択してください。  
    ![12](../images/enviroment/1201.png)  

    ![12](../images/enviroment/1202.png)

4. ![13](../images/enviroment/upload.png) をクリックして書き込みます。

    > ⚠️ **注意：Atom Lite が動く可能性があります**  
    > 書き込み直後にロボットが動くことがあります。ケーブルが絡まないよう、書き込む前にロボットの車輪が浮くように手で持ち上げてください。  
    > ![14](../images/enviroment/14.png)

    > ℹ️ **複数のポートがある場合**  
    > デバイスマネージャーからポート番号を確認してください。  
    > コントロールパネル > デバイスマネージャー  
    > ![15](../images/enviroment/15.png)

---

### Atom Lite を動かす

1. USB ケーブルを外します。  
2. Atom Lite の電源ボタンを押します。

    > ⚠️ **注意：Atom Lite がすぐ動く場合があります**  
    > 電源を入れた直後にロボットが動くことがありますので、動いても問題ない安全な場所で行ってください。

---

## Arduino プログラムの基本構造

Arduino で書くプログラム（スケッチ）は、主に次の 2 つの関数から構成されます。

```cpp
void setup() {
  // 最初に一度だけ実行される処理
  // xxの初期化
}

void loop() {
  // 繰り返し実行される処理
}
```

